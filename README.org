# -*- mode: org; -*-
#+TITLE: Apparatus: Clojure Clusters
#+STARTUP: hidstars overview odd

* Build & Test apparatus
#+BEGIN_SRC: bash
  lein uberjar                               ;# create an uberjar
  lein test                                  ;# run the unit tests
#+END_SRC
* Play with it
#+BEGIN_SRC: bash
  nohup java -jar apparatus*standalone.jar & ;# background node (autostarts)
  nohup java -jar apparatus*standalone.jar & ;# background node (autostarts)
  lein repl                                  ;# interactive node
#+END_SRC
* Start up the foreground node
#+BEGIN_SRC: clojure
  (require '[apparatus.config :as config] '[apparatus.cluster :as cluster])
  (-> (config/default) (cluster/instance))
#+END_SRC
* Make your cluster do work
#+BEGIN_SRC: clojure
  (-> (cluster/eval-any '(+ 1 1)) (.get))
#+END_SRC
* Store some data in your cluster
#+BEGIN_SRC: clojure
  (-> (cluster/map "helloworld") (.put "mah" "bukkit"))
  (-> (cluster/map "helloworld") (.get "mah"))
#+END_SRC
* Add apparatus lib to your project
#+BEGIN_SRC: clojure
  (defproject myproject "1.2.3" :dependencies [[apparatus "0.1.0-SNAPSHOT"]])
#+END_SRC
* Read more about [[http://www.hazelcast.com/documentation.jsp][Hazelcast]]
